<!-- https://github.com/thejsway/thejsway/blob/master/manuscript/chapter18.md -->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <style>
        #chronometer {}

        button {
            width: 80px;
            display: block;
            margin-bottom: 20px;
        }

        button#startButton {
            background-color: lightgreen;
        }
    </style>

</head>

<!-- Chronometer -->
<!-- Write an interactive web page with a button to start and stop a chronometer
counting the number of elapsed seconds. -->

<body>
    <p>Time passed: <span id="chronometer">0</span></p>

    <button id="startButton">Start</button>
    <button id="reloadButton">Reload</button id="reloadButton">
</body>
<script>

    const secondsToTime = (seconds) => {
        const hours = Math.floor(seconds / 3600);
        const minutes = Math.floor((seconds - hours * 3600) / 60);
        seconds = seconds % 60;
        return `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
    };

    const counterElement = document.getElementById("chronometer");
    const startButtonElement = document.getElementById("startButton");
    const reloadButtonElement = document.getElementById("reloadButton");

    startButtonElement.addEventListener(
        "click", e => {
            if (startButtonElement.textContent !== "Wait") {
                startButtonElement.textContent = "Wait";
                startButtonElement.style.backgroundColor = "lightsalmon";
            } else {
                startButtonElement.textContent = "Go on";
                startButtonElement.style.backgroundColor = "lightgreen";
            }

        }
    );

    reloadButtonElement.addEventListener(
        "click", e => {
            secondsCounter = 0;
            // clearInterval(intervalId);
            startButtonElement.textContent = "Start";
            startButtonElement.style.backgroundColor = "lightgreen";
            counterElement.textContent = "0";
        }
    );

    let secondsCounter = 0;
    const incCounter = () => {
        // const counter = Number(counterElement.textContent);
        if (startButtonElement.textContent === "Wait") {
            secondsCounter += 1;
            counterElement.textContent = secondsToTime(secondsCounter);
        }
    };

    const intervalId = setInterval(incCounter, 1000);


</script>

</html>